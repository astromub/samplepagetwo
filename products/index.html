---
layout: default
title: ASTROMub Store - All Products
permalink: /products/
---

<div style="padding: 60px 5%; max-width: 1200px; margin: 0 auto;">
  <h1 style="font-size: 3rem; margin-bottom: 2rem; text-align:center;">Shop All Products</h1>
  <div id="products-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px;"></div>
</div>

<script>
async function loadProducts() {
  const { data: products, error } = await supabase
    .from('products')
    .select('*')
    .eq('active', true)
    .order('created_at', { ascending: false });

  const grid = document.getElementById('products-grid');
  grid.innerHTML = products.map(p => `
    <div class="product-card" style="border-radius:12px; overflow:hidden; box-shadow:0 4px 20px rgba(0,0,0,0.1);">
      <img src="${p.image_url}" alt="${p.title}" style="width:100%; height:320px; object-fit:cover;">
      <div style="padding:20px;">
        <h3>${p.title}</h3>
        <p style="color:#666; margin:10px 0;">SKU: ${p.sku}</p>
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <strong style="font-size:1.5rem; color:var(--primary-color);">$${p.price}</strong>
          <button onclick="buyNow('${p.sku}', ${p.price})" 
                  style="background:var(--primary-color); color:white; border:none; padding:12px 24px; border-radius:4px; cursor:pointer;">
            Buy Now
          </button>
        </div>
      </div>
    </div>
  `).join('');
}
loadProducts();
</script>
